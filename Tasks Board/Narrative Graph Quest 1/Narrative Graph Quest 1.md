---
developers:
start: 2025-12-11
deadline: 2025-12-17
status: In progress
tags:
  - task
  - egor
  - polina
---
---
# Task Description

Граф восприятия — это сеть сюжетных фрагментов, в которой порядок открытия вер-
шин (событий) изменяет смысл уже увиденного. Игрок видит фрагменты одной общей
истории в рамках одной локации, но в случайном порядке. Каждый фрагмент кажется
ему самостоятельным эпизодом — пока он не столкнется с другим, который пересоби-
рает контекст. Каждая новая вершина может расширить, поставить под сомнение или
перевернуть интерпретацию предыдущих событий.

Написать тестовый граф одного квеста, для проверки работоспособности механики нарративного графа. Добавить третьего персонажа к Раджею и брахману. 

Так как игрок может начать историю со встречи с любым из трех персонажей, нужно прописать Initial State для начала

%% Я взял этот отрывок из сборника мудростей Махабхараты.%%
Брахман, великий знаток Веды, бывший и прекрасным лучником, встретил своего старого друга, который стал Раджой. Брахман вскричал, увидев Раджи
— Признай меня, я твой друг! — Раджа взглянул на него с презрением, а затем пояснил
— Да, мы были друзьями прежде, но наша дружба основывалась на власти, которой мы обладали... Я дружил с тобой, добрый брахман, потому что это служило моей цели. Бедный не может быть другом богатому, глупый — умному, трус — смелому. Старый друг — кому он нужен? Два человека, равных по достатку и по рождению, договариваются о дружбе или о заключении брачного союза, но не богач и бедняк... Старый друг — кому он нужен?

**Махабхарата**

%%
Брахман — член высшей варны в индуистской традиции, связанной со священными знаниями, ритуальной практикой и преподаванием религиозных текстов. Его роль заключается в сохранении и передаче духовного учения.
%%

---

## Node: **Brahman_Initial** [[Brahman_init]]

**Название заметки:** Brahman_Initial

**Сцена**  
Брахман сидит на камне у дороги, перебирая пальцами старый лук. Лицо усталое, но глаза цепкие. Он поднимает взгляд  
— Монах… Ты не похож на тех, кто приходит искать благословения. Ты ищешь ответы  
После короткой паузы он продолжает  
— Я ждал встречи. Старые узы иногда тянут сильнее, чем судьба. Мой друг стал раджа. А я стал тем, кого он не узнает

**Выборы игрока**

1. Почему он не узнает [[Brahman_Reason]]
2. Ты уверен, что он изменился [[Brahman_Doubt]]
3. Я поговорю с ним [[Raja_RejectedInitial]]

---

## Node: **Brahman_Reason**

**Название заметки:** Brahman_Reason

**Сцена**  
— Когда власть входит в сердце, — говорит он, — память выходит из него. Он видел во мне равного, пока мы оба стояли на поле, где только лук и дыхание определяли человека. Сейчас же… он считает, что дружба требует одинаковых тронов

**Последствия**  
Открывает путь к [[Brahman_Doubt]] или к встрече с раджей [[Raja_RejectedInitial]]

---

## Node: **Brahman_Doubt**

**Название заметки:** Brahman_Doubt

**Сцена**  
— Быть может, я ошибся. Быть может, годы изменили не его, а меня. Но одно я знаю: если он отвергнет меня вновь, я пойму, что старый друг действительно никому не нужен

**Последствия**  
Переход к встрече с раджей [[Raja_RejectedInitial]]

---

## Node: **Brahman_AfterRaja**

**Название заметки:** Brahman_AfterRaja

**Условие**  
Игрок уже встретил раджа (любая сцена из [[Raja_RejectedInitial]] или [[Raja_Aware]])

**Сцена**  
Брахман встречает игрока настороженно  
— Ты видел его — спрашивает он без приветствия. — Сказал ли он хоть одно слово о прошлом. Он теперь говорит так, будто дружба это договор богатых домов

**Выборы игрока**

1. Он отрицает вашу дружбу [[Brahman_Anger]]
    
2. Он считает, что времена изменились [[Brahman_Sad]]
    
3. Он больше защищается, чем нападает [[Brahman_Question]]
    

---

## Node: **Brahman_Anger**

**Название заметки:** Brahman_Anger

**Сцена**  
— Тогда его сердце закрыто. Для него я стал бедняком, а значит чужим. Так говорит тот, кто боится собственного прошлого

**Последствия**  
Ветвь раджи становится более мягкой [[Raja_Aware]]

---

## Node: **Brahman_Sad**

**Название заметки:** Brahman_Sad

**Сцена**  
— Если времена изменились… почему тогда меняется только он. Я ведь не просил трона. Я просил лишь, чтобы он узнал меня

**Последствия**  
Король получает более мягкую, но все еще высокомерную линию [[Raja_Aware]]

---

## Node: **Brahman_Question**

**Название заметки:** Brahman_Question

**Сцена**  
— Защищается? От кого? От воспоминаний, которые он сам разрушил

**Последствия**  
Открывает альтернативную эмоциональную ветку раджи [[Raja_Confront]]

---

## Node: **Raja_Initial**

**Название заметки:** Raja_Initial

**Условие**  
Игрок еще не встречал брахмана

**Сцена**  
Раджа стоит у балюстрады, наблюдая за тренировкой лучников. Он даже не смотрит на игрока  
— Если пришел просить одолжения, говори кратко  
Через мгновение уточняет  
— Когда-то один человек стоял рядом со мной. Но годы показывают, кто достоин был идти дальше

**Выборы игрока**

1. Кто он [[Raja_RejectedInitial]]
    
2. Ты говоришь о бывшем друге [[Raja_RejectedInitial]]
    
3. Я встретил странствующего мудреца [[Raja_Aware]] — доступно только если игрок уже встречал брахмана
    

---

## Node: **Raja_RejectedInitial**

**Название заметки:** Raja_RejectedInitial

**Сцена**  
— Да, мы были друзьями прежде, — произносит он — Но дружба была удобством. Богатый не делит путь с бедняком, сильный с слабым. Старый друг кому он нужен

**Последствия**  
Если игрок еще не встречал брахмана — активируется [[Brahman_AfterRaja]]  
Если встречал — активируется [[Brahman_Anger]], [[Brahman_Sad]] или [[Brahman_Question]]

---

## Node: **Raja_Aware**

**Название заметки:** Raja_Aware

**Условие**  
Игрок уже встретил брахмана и провел с ним беседу

**Сцена**  
— Он все еще цепляется за то, что было. Но прошлое тяжелый камень. Не всем стоит его поднимать

**Выборы игрока**

1. Ты несправедлив к нему [[Raja_Soften]]
    
2. Он говорит, что ты изменился [[Raja_Justify]]
    
3. Он хочет лишь быть признанным [[Raja_Admit]]
    

---

## Node: **Raja_Confront**

**Название заметки:** Raja_Confront

**Условие**  
Выбран вариант [[Brahman_Question]]

**Сцена**  
— Он обвиняет меня? После всего? Он всегда склонен драматизировать

**Последствия**  
Игрок может вывести его на искренность [[Raja_Admit]] или подтолкнуть к резкой ссоре [[Raja_Break]]

---

## Node: **Raja_Soften**

**Название заметки:** Raja_Soften

**Сцена**  
— Может, ты права. Но порой легче отвергнуть прошлое, чем признать свою вину

**Последствия**  
Финальные узлы примирения [[Ending_Reconcile]]

---

## Node: **Raja_Justify**

**Название заметки:** Raja_Justify

**Сцена**  
— Изменился… да. Но не так, как он думает. Я стал тем, кем обязан быть

**Последствия**  
Открывает финальную развилку: примирение [[Ending_Reconcile]] или разрыв [[Ending_Break]]

---

## Node: **Raja_Admit**

**Название заметки:** Raja_Admit

**Сцена**  
— Признание. Я признаю, что обязан ему многим. Но долг и дружба разное

**Последствия**  
Возможны две финальные ветви: [[Ending_Reconcile]], [[Ending_Neutral]]

---

## Node: **Raja_Break**

**Название заметки:** Raja_Break

**Сцена**  
— Тогда пусть он живет в своих воспоминания. В моем мире для него места нет

**Последствия**  
Финальная ветка разрыв [[Ending_Break]]

---

## Node: **Ending_Reconcile**

**Название заметки:** Ending_Reconcile

**Сцена**  
Брахман и раджа через слова игрока понимают взаимные заблуждения. Оба персонажа в дальнейшем становятся союзниками

---

## Node: **Ending_Neutral**

**Название заметки:** Ending_Neutral

**Сцена**  
Каждый признает прошлое, но не стремится восстановить связь

---

## Node: **Ending_Break**

**Название заметки:** Ending_Break

**Сцена**  
Раджа и брахман больше не будут общаться. Сюжетные линии расходятся

---

Если хочешь, я могу сразу сделать **готовый JSON для импорта в движок**, где каждая node будет с ID, текстом, выборами и ссылками на последствия в виде Obsidian-стиля, чтобы можно было сразу подключить к прототипу.

Хочешь, чтобы я это сделал?